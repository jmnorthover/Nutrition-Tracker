{"version":3,"sources":["Components/TableRow.js","Components/MealTable.js","Components/DisplayMeal.js","Components/SearchForm.js","Services/requests.js","Utilities/getTotals.js","Components/Home.js","Components/Result.js","Components/SearchResults.js","Components/Login.js","Components/NotFound.js","Components/Routing.js","Components/Navbar.js","App.js","index.js"],"names":["TableRow","entry","deleteEntry","mealName","useEffect","M","AutoInit","className","food","name","Math","round","calories","servings","protein","carbs","fat","style","cursor","onClick","_id","toLowerCase","MealTable","entries","map","key","DisplayMeal","content","mealItems","length","SearchForm","useState","search","setSearch","history","useHistory","onSubmit","e","preventDefault","push","placeholder","onChange","target","value","type","loginUser","username","password","axios","method","url","data","registerUser","reducer","current","next","getTotals","meals","start","forEach","meal","reduce","Home","date","setDate","breakfast","lunch","dinner","snacks","day","setDay","visible","setVisible","fDate","format","token","window","localStorage","getItem","headers","Authorization","then","res","getDay","catch","error","console","id","updatedDay","filter","removeEntry","totals","Object","values","month","selectedDays","onDayClick","Result","result","setServings","setMeal","brand","foodInfo","api_id","addEntry","toast","html","required","marginLeft","SearchResults","query","useParams","results","setResults","response","foodSearch","Login","setUser","setUsername","setPassword","errorMessage","setErrorMessage","register","setRegister","a","async","setItem","message","minLength","maxLength","htmlFor","NotFound","Routing","user","exact","path","Navbar","to","removeItem","App","Date","Fragment","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.41c44bfb.chunk.js","sourcesContent":["import React, { useEffect } from 'react';\r\nimport M from 'materialize-css';\r\n\r\nconst TableRow = ({ entry, deleteEntry, mealName }) => {\r\n  useEffect(() => M.AutoInit(), []);\r\n  return (\r\n    <tr className=\"food-row\">\r\n      <td>{entry.food.name}</td>\r\n      <td>{Math.round(entry.food.calories * entry.servings)}</td>\r\n      <td>{Math.round(entry.food.protein * entry.servings)}g</td>\r\n      <td>{Math.round(entry.food.carbs * entry.servings)}g</td>\r\n      <td>{Math.round(entry.food.fat * entry.servings)}g</td>\r\n      <td>{Math.round(entry.servings)}</td>\r\n      <td>\r\n        <i\r\n          style={{ cursor: 'pointer' }}\r\n          onClick={() => deleteEntry(entry._id, mealName.toLowerCase())}\r\n          className=\"material-icons\"\r\n        >\r\n          delete\r\n        </i>\r\n      </td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport default TableRow;\r\n","import React from 'react';\r\nimport TableRow from './TableRow';\r\n\r\nconst MealTable = ({ entries, deleteEntry, mealName }) => {\r\n  return (\r\n    <div>\r\n      <table className=\"highlight centered meal-table\">\r\n        <thead>\r\n          <tr>\r\n            <th>Name</th>\r\n            <th>Calories</th>\r\n            <th>Protein</th>\r\n            <th>Carbs</th>\r\n            <th>Fat</th>\r\n            <th>Servings</th>\r\n            <th></th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {entries.map(entry => (\r\n            <TableRow\r\n              key={entry._id}\r\n              entry={entry}\r\n              deleteEntry={deleteEntry}\r\n              mealName={mealName}\r\n            />\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MealTable;\r\n","import React from 'react';\r\nimport MealTable from './MealTable';\r\n\r\nconst DisplayMeal = ({ mealName, mealItems, deleteEntry }) => {\r\n  let content;\r\n\r\n  if (!mealItems || mealItems.length === 0) {\r\n    content = (\r\n      <div>\r\n        <em>No items added yet.</em>\r\n      </div>\r\n    );\r\n  } else {\r\n    content = (\r\n      <MealTable\r\n        mealName={mealName}\r\n        entries={mealItems}\r\n        deleteEntry={deleteEntry}\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"z-depth-1 meal-display\">\r\n      <h4>{mealName}</h4>\r\n      {content}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DisplayMeal;\r\n","import React, { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst SearchForm = () => {\r\n  const [search, setSearch] = useState('');\r\n\r\n  const history = useHistory();\r\n\r\n  const handleSearch = e => {\r\n    e.preventDefault();\r\n    if (search !== '') {\r\n      history.push(`/search/${search}`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form className=\"search-form\" onSubmit={handleSearch}>\r\n      <div className=\"input-field\">\r\n        <input\r\n          placeholder=\"Search the database for a food...\"\r\n          onChange={e => setSearch(e.target.value)}\r\n          value={search}\r\n        />\r\n      </div>\r\n      <div className=\"centered\">\r\n        <button type=\"submit\" className=\"btn waves-effect waves-light\">\r\n          Search\r\n        </button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default SearchForm;\r\n","import axios from 'axios';\r\nimport { format } from 'date-fns';\r\n\r\nconst baseUrl = '/api';\r\n\r\n// Get the user's entries for a particular date\r\nexport const getDay = date => {\r\n  const fDate = format(date, 'yyyy-MM-dd');\r\n  const token = window.localStorage.getItem('nutritionAppToken');\r\n  return axios({\r\n    method: 'get',\r\n    url: `${baseUrl}/days/${fDate}`,\r\n    headers: {\r\n      Authorization: token,\r\n    },\r\n  }).then(res => res.data);\r\n};\r\n\r\n// Add an entry for a user to a particular date\r\nexport const addEntry = (foodInfo, date) => {\r\n  const fDate = format(date, 'yyyy-MM-dd');\r\n  const token = window.localStorage.getItem('nutritionAppToken');\r\n  return axios({\r\n    method: 'post',\r\n    url: `${baseUrl}/entries`,\r\n    headers: {\r\n      Authorization: token,\r\n    },\r\n    data: {\r\n      date: fDate,\r\n      mealName: foodInfo.meal,\r\n      foodInfo: {\r\n        name: foodInfo.name,\r\n        api_id: foodInfo.api_id,\r\n        calories: foodInfo.calories,\r\n        protein: foodInfo.protein,\r\n        carbs: foodInfo.carbs,\r\n        fat: foodInfo.fat,\r\n        servings: foodInfo.servings,\r\n      },\r\n    },\r\n  });\r\n};\r\n\r\n// Remove a user's entry\r\nexport const removeEntry = (id, date, mealName) => {\r\n  const fDate = format(date, 'yyyy-MM-dd');\r\n  const token = window.localStorage.getItem('nutritionAppToken');\r\n  return axios({\r\n    method: 'delete',\r\n    url: `${baseUrl}/entries/${id}`,\r\n    headers: {\r\n      Authorization: token,\r\n    },\r\n    data: {\r\n      date: fDate,\r\n      mealName,\r\n    },\r\n  });\r\n};\r\n\r\n// Attempt to login with user credentials\r\nexport const loginUser = (username, password) => {\r\n  return axios({\r\n    method: 'post',\r\n    url: `${baseUrl}/users/login`,\r\n    data: {\r\n      username,\r\n      password,\r\n    },\r\n  });\r\n};\r\n\r\n// Attempt to register a new user with given credentials\r\nexport const registerUser = (username, password) => {\r\n  return axios({\r\n    method: 'post',\r\n    url: `${baseUrl}/users/register`,\r\n    data: {\r\n      username,\r\n      password,\r\n    },\r\n  });\r\n};\r\n\r\n// Get food search results for a particular query\r\nexport const foodSearch = query => {\r\n  const token = window.localStorage.getItem('nutritionAppToken');\r\n  return axios({\r\n    method: 'get',\r\n    url: `${baseUrl}/foodsearch/${query}`,\r\n    headers: {\r\n      Authorization: token,\r\n    },\r\n  }).then(response => {\r\n    return response.data;\r\n  });\r\n};\r\n","// Used to get total nutritients for all four meals in a day\r\n\r\nconst reducer = (current, next) => {\r\n  current.calories += next.food.calories * next.servings;\r\n  current.protein += next.food.protein * next.servings;\r\n  current.carbs += next.food.carbs * next.servings;\r\n  current.fat += next.food.fat * next.servings;\r\n  return current;\r\n};\r\n\r\nconst getTotals = meals => {\r\n  const start = { calories: 0, protein: 0, carbs: 0, fat: 0 };\r\n  meals.forEach(meal => meal.reduce(reducer, start));\r\n  return start;\r\n};\r\n\r\nexport default getTotals;\r\n","import React, { useState, useEffect } from 'react';\r\nimport DisplayMeal from './DisplayMeal';\r\nimport SearchForm from './SearchForm';\r\nimport DayPicker from 'react-day-picker';\r\nimport 'react-day-picker/lib/style.css';\r\nimport { format } from 'date-fns';\r\nimport M from 'materialize-css';\r\nimport { getDay, removeEntry } from '../Services/requests';\r\nimport getTotals from '../Utilities/getTotals';\r\n\r\nconst Home = ({ date, setDate }) => {\r\n  const [day, setDay] = useState({\r\n    breakfast: [],\r\n    lunch: [],\r\n    dinner: [],\r\n    snacks: [],\r\n  });\r\n\r\n  const [visible, setVisible] = useState(false);\r\n\r\n  useEffect(() => M.AutoInit(), []);\r\n\r\n  useEffect(() => {\r\n    getDay(date)\r\n      .then(data => setDay(data))\r\n      .catch(error => console.error('Failed to fetch data'));\r\n  }, [date]);\r\n\r\n  const deleteEntry = (id, mealName) => {\r\n    const updatedDay = { ...day };\r\n    updatedDay[mealName] = day[mealName].filter(entry => entry._id !== id);\r\n    setDay(updatedDay);\r\n    removeEntry(id, date, mealName);\r\n  };\r\n\r\n  const totals = getTotals(Object.values(day));\r\n\r\n  return (\r\n    <div className=\"container center-align\">\r\n      <div className=\"home-header\">\r\n        <div className=\"date-info\">\r\n          <h3>{format(date, 'MMMM do')}</h3>\r\n          <button\r\n            className=\"btn-floating btn-large waves-effect waves-light calendar-button\"\r\n            onClick={() => setVisible(!visible)}\r\n          >\r\n            <i className=\"material-icons\">date_range</i>\r\n          </button>\r\n        </div>\r\n        {visible && (\r\n          <div>\r\n            <DayPicker\r\n              month={date}\r\n              selectedDays={date}\r\n              onDayClick={day => {\r\n                setDate(day);\r\n              }}\r\n            />\r\n          </div>\r\n        )}\r\n        <div className=\"food-search\">\r\n          <SearchForm />\r\n        </div>\r\n      </div>\r\n      <div className=\"divider\" />\r\n      <div>\r\n        <div className=\"totals\">\r\n          <div>Calories: {totals.calories}</div>\r\n          <div>Protein: {totals.protein}g</div>\r\n          <div>Carbs: {totals.carbs}g</div>\r\n          <div>Fat: {totals.fat}g</div>\r\n        </div>\r\n        <DisplayMeal\r\n          mealName=\"Breakfast\"\r\n          mealItems={day.breakfast}\r\n          deleteEntry={deleteEntry}\r\n        />\r\n        <DisplayMeal\r\n          mealName=\"Lunch\"\r\n          mealItems={day.lunch}\r\n          deleteEntry={deleteEntry}\r\n        />\r\n        <DisplayMeal\r\n          mealName=\"Dinner\"\r\n          mealItems={day.dinner}\r\n          deleteEntry={deleteEntry}\r\n        />\r\n        <DisplayMeal\r\n          mealName=\"Snacks\"\r\n          mealItems={day.snacks}\r\n          deleteEntry={deleteEntry}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React, { useState } from 'react';\r\nimport M from 'materialize-css';\r\nimport { addEntry } from '../Services/requests';\r\n\r\nconst Result = ({ result, date }) => {\r\n  const [servings, setServings] = useState(1);\r\n  const [meal, setMeal] = useState('breakfast');\r\n\r\n  const updateServings = e => {\r\n    if (e.target.value >= 0) {\r\n      setServings(e.target.value);\r\n    }\r\n  };\r\n\r\n  const handleAdd = e => {\r\n    e.preventDefault();\r\n\r\n    addEntry({ servings, meal, ...result }, date).then(res => {\r\n      M.toast({ html: 'Food added!' });\r\n    });\r\n  };\r\n\r\n  return (\r\n    <li>\r\n      <div className=\"collapsible-header\">\r\n        <i className=\"material-icons\">keyboard_arrow_down</i>\r\n        {result.name}\r\n        <span className=\"brand-name\"> ({result.brand})</span>\r\n      </div>\r\n      <div className=\"collapsible-body\">\r\n        <ul className=\"nutrition-info\">\r\n          <li>Calories: {Math.round(result.calories * (servings || 1))}</li>\r\n          <li>Protein: {Math.round(result.protein * (servings || 1))}g</li>\r\n          <li>Carbs: {Math.round(result.carbs * (servings || 1))}g</li>\r\n          <li>Fat: {Math.round(result.fat * (servings || 1))}g</li>\r\n        </ul>\r\n        <div className=\"divider\" />\r\n        <form onSubmit={handleAdd}>\r\n          <div className=\"row search-options\">\r\n            <div className=\"input-field col m2 s4\">\r\n              <span>Servings:</span>\r\n              <input\r\n                type=\"number\"\r\n                required\r\n                value={servings}\r\n                onChange={updateServings}\r\n              />\r\n            </div>\r\n            <div className=\"input-field col m4 s8\">\r\n              <span>Meal:</span>\r\n              <select\r\n                required\r\n                value={meal}\r\n                onChange={e => setMeal(e.target.value)}\r\n              >\r\n                <option value=\"breakfast\" className=\"r-option\">\r\n                  Breakfast\r\n                </option>\r\n                <option value=\"lunch\">Lunch</option>\r\n                <option value=\"dinner\">Dinner</option>\r\n                <option value=\"snacks\">Snack</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <div style={{ marginLeft: '1rem' }}>\r\n            <button type=\"submit\" className=\"waves-effect waves-light btn\">\r\n              Add Food\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default Result;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Result from './Result';\r\nimport SearchForm from './SearchForm';\r\nimport { useParams } from 'react-router-dom';\r\nimport { foodSearch } from '../Services/requests';\r\nimport M from 'materialize-css';\r\n\r\nconst SearchResults = ({ date }) => {\r\n  const { query } = useParams();\r\n\r\n  useEffect(() => M.AutoInit());\r\n\r\n  const [results, setResults] = useState([]);\r\n\r\n  useEffect(() => {\r\n    foodSearch(query).then(response => {\r\n      setResults(response);\r\n    });\r\n  }, [query]);\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <SearchForm />\r\n      <h4>Search results for \"{query}\"</h4>\r\n      <ul className=\"collapsible\">\r\n        {results.map(result => (\r\n          <Result key={result.api_id} result={result} date={date} />\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchResults;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { loginUser, registerUser } from '../Services/requests';\r\nimport M from 'materialize-css';\r\n\r\nconst Login = ({ setUser }) => {\r\n  useEffect(() => M.AutoInit(), []);\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n  const [register, setRegister] = useState(false);\r\n\r\n  const submitInfo = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      let res;\r\n      if (register) {\r\n        res = await registerUser(username, password);\r\n      } else {\r\n        res = await loginUser(username, password);\r\n      }\r\n      window.localStorage.setItem('nutritionAppToken', res.data.token);\r\n      setUser(true);\r\n    } catch (error) {\r\n      if (error.response) {\r\n        setErrorMessage(error.response.data.message);\r\n      } else {\r\n        setErrorMessage('Login service is currently down');\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container center-align\">\r\n      <div className=\"z-depth-1 login-form\">\r\n        <div>\r\n          <i className=\"material-icons medium\">account_circle</i>\r\n          <h4>{register ? 'Register' : 'Sign In'}</h4>\r\n        </div>\r\n        {errorMessage && <div className=\"login-error\">{errorMessage}</div>}\r\n        <form className=\"row\" onSubmit={submitInfo}>\r\n          <div className=\"input-field col s12\">\r\n            <input\r\n              type=\"text\"\r\n              id=\"username\"\r\n              value={username}\r\n              onChange={(e) => setUsername(e.target.value)}\r\n              required\r\n              minLength=\"6\"\r\n              maxLength=\"30\"\r\n            />\r\n            <label htmlFor=\"username\">Username:</label>\r\n          </div>\r\n          <div className=\"input-field col s12\">\r\n            <input\r\n              type=\"text\"\r\n              id=\"password\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n              required\r\n              minLength=\"6\"\r\n              maxLength=\"30\"\r\n            />\r\n            <label htmlFor=\"password\">Password:</label>\r\n          </div>\r\n          <div className=\"col s12\">\r\n            <button\r\n              className=\"btn waves-effect waves-light login-button\"\r\n              type=\"submit\"\r\n            >\r\n              {register ? 'Register' : 'Sign In'}\r\n            </button>\r\n          </div>\r\n        </form>\r\n        <div>\r\n          <button\r\n            onClick={() => {\r\n              setRegister(!register);\r\n              setUsername('');\r\n              setPassword('');\r\n              setErrorMessage('');\r\n            }}\r\n            className=\"btn waves-effect waves-light register-button\"\r\n          >\r\n            {register ? 'Sign In' : 'Register'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React from 'react';\r\n\r\nconst NotFound = () => {\r\n  return (\r\n    <div className=\"container\">\r\n      <h2>404</h2>\r\n      <h3>Not Found</h3>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotFound;\r\n","import React from 'react';\r\nimport Home from './Home';\r\nimport SearchResults from './SearchResults';\r\nimport Login from './Login';\r\nimport NotFound from './NotFound';\r\nimport { Route, Switch } from 'react-router-dom';\r\n\r\nconst Routing = ({ date, setDate, user, setUser }) => {\r\n  return (\r\n    <Switch>\r\n      <Route exact path=\"/\">\r\n        {user !== false ? (\r\n          <Home date={date} setDate={setDate} />\r\n        ) : (\r\n          <Login setUser={setUser} />\r\n        )}\r\n      </Route>\r\n      <Route exact path=\"/search/:query\">\r\n        {user !== false ? (\r\n          <SearchResults date={date} />\r\n        ) : (\r\n          <Login setUser={setUser} />\r\n        )}\r\n      </Route>\r\n      <Route>\r\n        <NotFound />\r\n      </Route>\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default Routing;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Navbar = ({ user, setUser }) => {\r\n  const handleLogout = () => {\r\n    window.localStorage.removeItem('nutritionAppToken');\r\n    setUser(false);\r\n  };\r\n  return (\r\n    <nav className=\"blue-grey darken-3\">\r\n      <div className=\"nav-wrapper\">\r\n        <Link to=\"/\">\r\n          <div className=\"brand-logo\">\r\n            <i className=\"material-icons\">fitness_center</i>\r\n            Nutrition Tracker\r\n          </div>\r\n        </Link>\r\n        {user && (\r\n          <div className=\"right logout\" onClick={handleLogout}>\r\n            Log Out\r\n            <i className=\"material-icons\">exit_to_app</i>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Routing from './Components/Routing';\r\nimport Navbar from './Components/Navbar';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\n\r\nconst App = () => {\r\n  const [date, setDate] = useState(new Date());\r\n  const [user, setUser] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (window.localStorage.getItem('nutritionAppToken')) {\r\n      setUser(true);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Router>\r\n        <Navbar user={user} setUser={setUser} />\r\n        <Routing date={date} setDate={setDate} user={user} setUser={setUser} />\r\n      </Router>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}