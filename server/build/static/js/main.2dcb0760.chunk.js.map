{"version":3,"sources":["Components/TableRow.js","Components/MealTable.js","Components/DisplayMeal.js","Components/SearchForm.js","Services/backend.js","Utilities/getTotals.js","Components/Home.js","Components/Result.js","Components/SearchResults.js","Services/api.js","Components/Login.js","Components/NotFound.js","Components/Routing.js","Components/Navbar.js","App.js","index.js"],"names":["TableRow","entry","deleteEntry","mealName","useEffect","M","AutoInit","className","food","name","Math","round","calories","servings","protein","carbs","fat","style","cursor","onClick","_id","toLowerCase","MealTable","entries","map","key","DisplayMeal","content","mealItems","length","SearchForm","useState","search","setSearch","history","useHistory","onSubmit","e","preventDefault","push","placeholder","onChange","target","value","type","baseUrl","loginUser","username","password","axios","method","url","data","registerUser","reducer","current","next","getTotals","meals","start","forEach","meal","reduce","Home","date","setDate","breakfast","lunch","dinner","snacks","day","setDay","visible","setVisible","fDate","format","token","window","localStorage","getItem","headers","Authorization","then","res","getDay","console","log","catch","error","id","updatedDay","filter","removeEntry","message","totals","Object","values","month","selectedDays","onDayClick","Result","result","setServings","setMeal","brand","foodInfo","api_id","addEntry","toast","html","required","marginLeft","SearchResults","query","useParams","results","setResults","appId","appKey","fields","response","hits","hit","item_name","brand_name","nf_calories","nf_protein","nf_total_carbohydrate","nf_total_fat","foodSearch","Login","setUser","setUsername","setPassword","errorMessage","setErrorMessage","register","setRegister","a","async","setItem","minLength","maxLength","htmlFor","NotFound","Routing","user","exact","path","to","Navbar","removeItem","App","Date","Fragment","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2dcb0760.chunk.js","sourcesContent":["import React, { useEffect } from 'react';\r\nimport M from 'materialize-css';\r\n\r\nconst TableRow = ({ entry, deleteEntry, mealName }) => {\r\n  useEffect(() => M.AutoInit(), []);\r\n  return (\r\n    <tr className=\"food-row\">\r\n      <td>{entry.food.name}</td>\r\n      <td>{Math.round(entry.food.calories * entry.servings)}</td>\r\n      <td>{Math.round(entry.food.protein * entry.servings)}g</td>\r\n      <td>{Math.round(entry.food.carbs * entry.servings)}g</td>\r\n      <td>{Math.round(entry.food.fat * entry.servings)}g</td>\r\n      <td>{Math.round(entry.servings)}</td>\r\n      <td>\r\n        <i\r\n          style={{ cursor: 'pointer' }}\r\n          onClick={() => deleteEntry(entry._id, mealName.toLowerCase())}\r\n          className=\"material-icons\"\r\n        >\r\n          delete\r\n        </i>\r\n      </td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport default TableRow;\r\n","import React from 'react';\r\nimport TableRow from './TableRow';\r\n\r\nconst MealTable = ({ entries, deleteEntry, mealName }) => {\r\n  return (\r\n    <div>\r\n      <table className=\"highlight centered meal-table\">\r\n        <thead>\r\n          <tr>\r\n            <th>Name</th>\r\n            <th>Calories</th>\r\n            <th>Protein</th>\r\n            <th>Carbs</th>\r\n            <th>Fat</th>\r\n            <th>Servings</th>\r\n            <th></th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {entries.map(entry => (\r\n            <TableRow\r\n              key={entry._id}\r\n              entry={entry}\r\n              deleteEntry={deleteEntry}\r\n              mealName={mealName}\r\n            />\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MealTable;\r\n","import React from 'react';\r\nimport MealTable from './MealTable';\r\n\r\nconst DisplayMeal = ({ mealName, mealItems, deleteEntry }) => {\r\n  let content;\r\n\r\n  if (!mealItems || mealItems.length === 0) {\r\n    content = (\r\n      <div>\r\n        <em>No items added yet.</em>\r\n      </div>\r\n    );\r\n  } else {\r\n    content = (\r\n      <MealTable\r\n        mealName={mealName}\r\n        entries={mealItems}\r\n        deleteEntry={deleteEntry}\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"z-depth-1 meal-display\">\r\n      <h4>{mealName}</h4>\r\n      {content}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DisplayMeal;\r\n","import React, { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst SearchForm = () => {\r\n  const [search, setSearch] = useState('');\r\n\r\n  const history = useHistory();\r\n\r\n  const handleSearch = e => {\r\n    e.preventDefault();\r\n    if (search !== '') {\r\n      history.push(`/search/${search}`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form className=\"search-form\" onSubmit={handleSearch}>\r\n      <div className=\"input-field\">\r\n        <input\r\n          placeholder=\"Search the database for a food...\"\r\n          onChange={e => setSearch(e.target.value)}\r\n          value={search}\r\n        />\r\n      </div>\r\n      <div className=\"centered\">\r\n        <button type=\"submit\" className=\"btn waves-effect waves-light\">\r\n          Search\r\n        </button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default SearchForm;\r\n","import axios from 'axios';\r\nimport { format } from 'date-fns';\r\n\r\nconst baseUrl = 'http://localhost:8000/api';\r\n\r\nexport const getDay = date => {\r\n  const fDate = format(date, 'yyyy-MM-dd');\r\n  const token = window.localStorage.getItem('nutritionAppToken');\r\n  return axios({\r\n    method: 'get',\r\n    url: `${baseUrl}/days/${fDate}`,\r\n    headers: {\r\n      Authorization: token,\r\n    },\r\n  }).then(res => res.data);\r\n};\r\n\r\nexport const addEntry = (foodInfo, date) => {\r\n  const fDate = format(date, 'yyyy-MM-dd');\r\n  const token = window.localStorage.getItem('nutritionAppToken');\r\n  return axios({\r\n    method: 'post',\r\n    url: `${baseUrl}/entries`,\r\n    headers: {\r\n      Authorization: token,\r\n    },\r\n    data: {\r\n      date: fDate,\r\n      mealName: foodInfo.meal,\r\n      foodInfo: {\r\n        name: foodInfo.name,\r\n        api_id: foodInfo.api_id,\r\n        calories: foodInfo.calories,\r\n        protein: foodInfo.protein,\r\n        carbs: foodInfo.carbs,\r\n        fat: foodInfo.fat,\r\n        servings: foodInfo.servings,\r\n      },\r\n    },\r\n  });\r\n};\r\n\r\nexport const removeEntry = (id, date, mealName) => {\r\n  const fDate = format(date, 'yyyy-MM-dd');\r\n  const token = window.localStorage.getItem('nutritionAppToken');\r\n  return axios({\r\n    method: 'delete',\r\n    url: `${baseUrl}/entries/${id}`,\r\n    headers: {\r\n      Authorization: token,\r\n    },\r\n    data: {\r\n      date: fDate,\r\n      mealName,\r\n    },\r\n  });\r\n};\r\n\r\nexport const loginUser = (username, password) => {\r\n  return axios({\r\n    method: 'post',\r\n    url: `${baseUrl}/users/login`,\r\n    data: {\r\n      username,\r\n      password,\r\n    },\r\n  });\r\n};\r\n\r\nexport const registerUser = (username, password) => {\r\n  return axios({\r\n    method: 'post',\r\n    url: `${baseUrl}/users/register`,\r\n    data: {\r\n      username,\r\n      password,\r\n    },\r\n  });\r\n};\r\n","const reducer = (current, next) => {\r\n  current.calories += next.food.calories * next.servings;\r\n  current.protein += next.food.protein * next.servings;\r\n  current.carbs += next.food.carbs * next.servings;\r\n  current.fat += next.food.fat * next.servings;\r\n  return current;\r\n};\r\n\r\nconst getTotals = meals => {\r\n  const start = { calories: 0, protein: 0, carbs: 0, fat: 0 };\r\n  meals.forEach(meal => meal.reduce(reducer, start));\r\n  return start;\r\n};\r\n\r\nexport default getTotals;\r\n","import React, { useState, useEffect } from 'react';\r\nimport DisplayMeal from './DisplayMeal';\r\nimport SearchForm from './SearchForm';\r\nimport DayPicker from 'react-day-picker';\r\nimport 'react-day-picker/lib/style.css';\r\nimport { format } from 'date-fns';\r\nimport M from 'materialize-css';\r\nimport { getDay, removeEntry } from '../Services/backend';\r\nimport getTotals from '../Utilities/getTotals';\r\n\r\nconst Home = ({ date, setDate }) => {\r\n  const [day, setDay] = useState({\r\n    breakfast: [],\r\n    lunch: [],\r\n    dinner: [],\r\n    snacks: [],\r\n  });\r\n\r\n  const [visible, setVisible] = useState(false);\r\n\r\n  useEffect(() => M.AutoInit(), []);\r\n\r\n  useEffect(() => {\r\n    getDay(date)\r\n      .then(data => {\r\n        console.log(data);\r\n        setDay(data);\r\n      })\r\n      .catch(error => console.log('Failed to fetch data'));\r\n  }, [date]);\r\n\r\n  const deleteEntry = (id, mealName) => {\r\n    const updatedDay = { ...day };\r\n    updatedDay[mealName] = day[mealName].filter(entry => entry._id !== id);\r\n    setDay(updatedDay);\r\n    removeEntry(id, date, mealName).then(res => console.log(res.data.message));\r\n  };\r\n\r\n  const totals = getTotals(Object.values(day));\r\n\r\n  return (\r\n    <div className=\"container center-align\">\r\n      <div className=\"home-header\">\r\n        <div className=\"date-info\">\r\n          <h3>{format(date, 'MMMM do')}</h3>\r\n          <button\r\n            className=\"btn-floating btn-large waves-effect waves-light calendar-button\"\r\n            onClick={() => setVisible(!visible)}\r\n          >\r\n            <i className=\"material-icons\">date_range</i>\r\n          </button>\r\n        </div>\r\n        {visible && (\r\n          <div>\r\n            <DayPicker\r\n              month={date}\r\n              selectedDays={date}\r\n              onDayClick={day => {\r\n                setDate(day);\r\n                console.log(day);\r\n              }}\r\n            />\r\n          </div>\r\n        )}\r\n        <div className=\"food-search\">\r\n          <SearchForm />\r\n        </div>\r\n      </div>\r\n      <div className=\"divider\" />\r\n      <div>\r\n        <div className=\"totals\">\r\n          <div>Calories: {totals.calories}</div>\r\n          <div>Protein: {totals.protein}g</div>\r\n          <div>Carbs: {totals.carbs}g</div>\r\n          <div>Fat: {totals.fat}g</div>\r\n        </div>\r\n        <DisplayMeal\r\n          mealName=\"Breakfast\"\r\n          mealItems={day.breakfast}\r\n          deleteEntry={deleteEntry}\r\n        />\r\n        <DisplayMeal\r\n          mealName=\"Lunch\"\r\n          mealItems={day.lunch}\r\n          deleteEntry={deleteEntry}\r\n        />\r\n        <DisplayMeal\r\n          mealName=\"Dinner\"\r\n          mealItems={day.dinner}\r\n          deleteEntry={deleteEntry}\r\n        />\r\n        <DisplayMeal\r\n          mealName=\"Snacks\"\r\n          mealItems={day.snacks}\r\n          deleteEntry={deleteEntry}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React, { useState } from 'react';\r\nimport M from 'materialize-css';\r\nimport { addEntry } from '../Services/backend';\r\n\r\nconst Result = ({ result, date }) => {\r\n  const [servings, setServings] = useState(1);\r\n  const [meal, setMeal] = useState('breakfast');\r\n\r\n  const updateServings = e => {\r\n    if (e.target.value >= 0) {\r\n      setServings(e.target.value);\r\n    }\r\n  };\r\n\r\n  const handleAdd = e => {\r\n    e.preventDefault();\r\n\r\n    addEntry({ servings, meal, ...result }, date).then(res => {\r\n      console.log(res);\r\n      M.toast({ html: 'Food added!' });\r\n    });\r\n  };\r\n\r\n  return (\r\n    <li>\r\n      <div className=\"collapsible-header\">\r\n        <i className=\"material-icons\">keyboard_arrow_down</i>\r\n        {result.name}\r\n        <span className=\"brand-name\"> ({result.brand})</span>\r\n      </div>\r\n      <div className=\"collapsible-body\">\r\n        <ul className=\"nutrition-info\">\r\n          <li>Calories: {Math.round(result.calories * (servings || 1))}</li>\r\n          <li>Protein: {Math.round(result.protein * (servings || 1))}g</li>\r\n          <li>Carbs: {Math.round(result.carbs * (servings || 1))}g</li>\r\n          <li>Fat: {Math.round(result.fat * (servings || 1))}g</li>\r\n        </ul>\r\n        <div className=\"divider\" />\r\n        <form onSubmit={handleAdd}>\r\n          <div className=\"row search-options\">\r\n            <div className=\"input-field col m2 s4\">\r\n              <span>Servings:</span>\r\n              <input\r\n                type=\"number\"\r\n                required\r\n                value={servings}\r\n                onChange={updateServings}\r\n              />\r\n            </div>\r\n            <div className=\"input-field col m4 s8\">\r\n              <span>Meal:</span>\r\n              <select\r\n                required\r\n                value={meal}\r\n                onChange={e => setMeal(e.target.value)}\r\n              >\r\n                <option value=\"breakfast\" className=\"r-option\">\r\n                  Breakfast\r\n                </option>\r\n                <option value=\"lunch\">Lunch</option>\r\n                <option value=\"dinner\">Dinner</option>\r\n                <option value=\"snacks\">Snack</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <div style={{ marginLeft: '1rem' }}>\r\n            <button type=\"submit\" className=\"waves-effect waves-light btn\">\r\n              Add Food\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default Result;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Result from './Result';\r\nimport SearchForm from './SearchForm';\r\nimport { useParams } from 'react-router-dom';\r\nimport { foodSearch } from '../Services/api';\r\nimport M from 'materialize-css';\r\n\r\nconst SearchResults = ({ date }) => {\r\n  const { query } = useParams();\r\n\r\n  useEffect(() => M.AutoInit());\r\n\r\n  const [results, setResults] = useState([]);\r\n\r\n  useEffect(() => {\r\n    foodSearch(query).then(response => {\r\n      setResults(response);\r\n    });\r\n  }, [query]);\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <SearchForm />\r\n      <h4>Search results for \"{query}\"</h4>\r\n      <ul className=\"collapsible\">\r\n        {results.map(result => (\r\n          <Result key={result.api_id} result={result} date={date} />\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchResults;\r\n","import axios from 'axios';\r\n\r\nexport const foodSearch = query => {\r\n  return axios({\r\n    method: 'post',\r\n    url: 'https://api.nutritionix.com/v1_1/search',\r\n    data: {\r\n      appId: '018f74af',\r\n      appKey: '6c4296b8185da820838481848ffb9985',\r\n      query: `${query}`,\r\n      fields: [\r\n        'item_name',\r\n        'brand_name',\r\n        'nf_calories',\r\n        'nf_protein',\r\n        'nf_total_carbohydrate',\r\n        'nf_total_fat',\r\n      ],\r\n    },\r\n  }).then(response => {\r\n    return response.data.hits.map(hit => {\r\n      return {\r\n        name: hit.fields.item_name,\r\n        brand: hit.fields.brand_name,\r\n        calories: Math.round(hit.fields.nf_calories),\r\n        protein: Math.round(hit.fields.nf_protein),\r\n        carbs: Math.round(hit.fields.nf_total_carbohydrate),\r\n        fat: Math.round(hit.fields.nf_total_fat),\r\n        api_id: hit._id,\r\n      };\r\n    });\r\n  });\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport { loginUser, registerUser } from '../Services/backend';\r\nimport M from 'materialize-css';\r\n\r\nconst Login = ({ setUser }) => {\r\n  useEffect(() => M.AutoInit(), []);\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n  const [register, setRegister] = useState(false);\r\n\r\n  const submitInfo = async e => {\r\n    e.preventDefault();\r\n    try {\r\n      let res;\r\n      if (register) {\r\n        res = await registerUser(username, password);\r\n      } else {\r\n        res = await loginUser(username, password);\r\n      }\r\n      window.localStorage.setItem('nutritionAppToken', res.data.token);\r\n      setUser(true);\r\n      console.log(res);\r\n    } catch (error) {\r\n      if (error.response) {\r\n        setErrorMessage(error.response.data.message);\r\n      } else {\r\n        setErrorMessage('Login service is currently down');\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container center-align\">\r\n      <div className=\"z-depth-1 login-form\">\r\n        <div>\r\n          <i className=\"material-icons medium\">account_circle</i>\r\n          <h4>{register ? 'Register' : 'Sign In'}</h4>\r\n        </div>\r\n        {errorMessage && <div className=\"login-error\">{errorMessage}</div>}\r\n        <form className=\"row\" onSubmit={submitInfo}>\r\n          <div className=\"input-field col s12\">\r\n            <input\r\n              type=\"text\"\r\n              id=\"username\"\r\n              value={username}\r\n              onChange={e => setUsername(e.target.value)}\r\n              required\r\n              minLength=\"6\"\r\n              maxLength=\"30\"\r\n            />\r\n            <label htmlFor=\"username\">Username:</label>\r\n          </div>\r\n          <div className=\"input-field col s12\">\r\n            <input\r\n              type=\"password\"\r\n              id=\"password\"\r\n              value={password}\r\n              onChange={e => setPassword(e.target.value)}\r\n              required\r\n              minLength=\"6\"\r\n              maxLength=\"30\"\r\n            />\r\n            <label htmlFor=\"password\">Password:</label>\r\n          </div>\r\n          <div className=\"col s12\">\r\n            <button\r\n              className=\"btn waves-effect waves-light login-button\"\r\n              type=\"submit\"\r\n            >\r\n              {register ? 'Register' : 'Sign In'}\r\n            </button>\r\n          </div>\r\n        </form>\r\n        <div>\r\n          <button\r\n            onClick={() => {\r\n              setRegister(!register);\r\n              setUsername('');\r\n              setPassword('');\r\n              setErrorMessage('');\r\n            }}\r\n            className=\"btn waves-effect waves-light register-button\"\r\n          >\r\n            {register ? 'Sign In' : 'Register'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React from 'react';\r\n\r\nconst NotFound = () => {\r\n  return (\r\n    <div className=\"container\">\r\n      <h2>404 - Not Found</h2>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotFound;\r\n","import React from 'react';\r\nimport Home from './Home';\r\nimport SearchResults from './SearchResults';\r\nimport Login from './Login';\r\nimport NotFound from './NotFound';\r\nimport { Route, Switch, Redirect } from 'react-router-dom';\r\n\r\nconst Routing = ({ date, setDate, user, setUser }) => {\r\n  return (\r\n    <Switch>\r\n      <Route exact path=\"/\">\r\n        {user !== false ? (\r\n          <Home date={date} setDate={setDate} />\r\n        ) : (\r\n          <Login setUser={setUser} />\r\n        )}\r\n      </Route>\r\n      <Route exact path=\"/search/:query\">\r\n        {user !== false ? <SearchResults date={date} /> : <Redirect to=\"/\" />}\r\n      </Route>\r\n      <Route>\r\n        <NotFound />\r\n      </Route>\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default Routing;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Navbar = ({ user, setUser }) => {\r\n  const handleLogout = () => {\r\n    window.localStorage.removeItem('nutritionAppToken');\r\n    setUser(false);\r\n  };\r\n  return (\r\n    <nav className=\"blue-grey darken-3\">\r\n      <div className=\"nav-wrapper\">\r\n        <Link to=\"/\">\r\n          <div className=\"brand-logo\">\r\n            <i className=\"material-icons\">fitness_center</i>\r\n            Nutrition Tracker\r\n          </div>\r\n        </Link>\r\n        {user && (\r\n          <div className=\"right logout\" onClick={handleLogout}>\r\n            Log Out\r\n            <i className=\"material-icons\">exit_to_app</i>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Routing from './Components/Routing';\r\nimport Navbar from './Components/Navbar';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\n\r\nconst App = () => {\r\n  const [date, setDate] = useState(new Date());\r\n  const [user, setUser] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (window.localStorage.getItem('nutritionAppToken')) {\r\n      setUser(true);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Router>\r\n        <Navbar user={user} setUser={setUser} />\r\n        <Routing date={date} setDate={setDate} user={user} setUser={setUser} />\r\n      </Router>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}